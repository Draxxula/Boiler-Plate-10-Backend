<!-- src/app/admin/requests/request.component.html -->
<div class="container mt-4">
  <h2>Requests</h2>
  <p class="text-muted">All departments from the secure (admin only)</p> 

  <div>
    <a routerLink="create" class="btn btn-success btn-sm mb-3">+ Add Request</a>
  </div>

    <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th style="width: 10%">Type</th>
          <th style="width: 10%">Employee</th>
          <th style="width: 15%">Items</th>
          <th style="width: 10%">Status</th>
          <th style="width: 5%">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let request of requests">
          <td>{{ request.type }}</td>
          <td>
            {{ request.employee?.account?.email }}
            <!-- ({{ request.employee?.account?.role }}) -->
          </td>
          <td>
            <div *ngFor="let item of request.parsedItems">
              {{ item.name }} (x{{ item.quantity }})
            </div>
        </td>
          <td>
            <span 
              class="badge"
              [ngClass]="{
                'bg-warning text-dark': request.status === 'Pending',
                'bg-success': request.status === 'Approved',
                'bg-danger': request.status === 'Rejected'
              }">
              {{ request.status }}
            </span>
          </td>
          <td>
            <button [routerLink]="['/admin/requests/edit', request.id]" class="actionbutton btn btn-secondary btn-sm px-4">Edit</button>
          </td>
        </tr>
      </tbody>
    </table>
  
  
</div>